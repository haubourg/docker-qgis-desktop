# #!/bin/sh

# # Should be platform neutral - at least working on Linux and Windows
# USER_NAME=`basename $HOME`

# # HHHOME is used to pass the HOME directory of the user running qgis
# # and is used in "start.sh" to create the same user within the container.

# # Users home is mounted as home
# # --rm will remove the container as soon as it ends

# -- bash inspired by jancelin repo

docker run --rm \
    -i -t \
    -v ${HOME}:/home/${USER_NAME} \
    -v /tmp/.X11-unix:/tmp/.X11-unix \
    -e DISPLAY=unix$DISPLAY \
    -e HHHOME=${HOME} \
    --net=host \
    qgis_local:release-3_6 qgis

# --- bash adviced by qgis readme file
# # Allow connections from any host
# xhost +
# docker run --rm -it --name qgis \
#     -v /tmp/.X11-unix:/tmp/.X11-unix  \
#     -e DISPLAY=unix$DISPLAY \
#     qgis/qgis:release-3_6 qgis
